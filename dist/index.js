!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n,r,i){var o=[],u=!0,l=!1,s=void 0;try{for(var h,f=t.getTiles()[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var v=h.value;o[v.row]=o[v.row]||[],o[v.row].push({row:v.row,column:v.column,status:v.blocked,mapTile:v})}}catch(t){l=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw s}}if(o[e]&&o[e][n]&&o[e][n].status===!1){var d=new c.default;d.enqueue(o[e][n]),o[e][n].status=-1;for(var w=!1;!d.empty();){var y=d.dequeue();if(y.row==r&&y.column==i){w=!0;break}y.row>0&&0==o[y.row-1][y.column].status&&(o[y.row-1][y.column].status=y.status-1,d.enqueue(o[y.row-1][y.column])),y.row<t.tilesHeightCount-1&&0==o[y.row+1][y.column].status&&(o[y.row+1][y.column].status=y.status-1,d.enqueue(o[y.row+1][y.column])),y.column>0&&0==o[y.row][y.column-1].status&&(o[y.row][y.column-1].status=y.status-1,d.enqueue(o[y.row][y.column-1])),y.column<t.tilesWidthCount-1&&0==o[y.row][y.column+1].status&&(o[y.row][y.column+1].status=y.status-1,d.enqueue(o[y.row][y.column+1]))}if(w===!0){var m=new a.default,p=[];for(m.push(o[r][i]),p.push(o[r][i]);!m.empty();){var g=m.pop();p.push(g.mapTile),g.row>0&&o[g.row-1][g.column].status==g.status+1?m.push(o[g.row-1][g.column]):g.row<t.tilesHeightCount-1&&o[g.row+1][g.column].status==g.status+1?m.push(o[g.row+1][g.column]):g.column>0&&o[g.row][g.column-1].status==g.status+1?m.push(o[g.row][g.column-1]):g.column<t.tilesWidthCount-1&&o[g.row][g.column+1].status==g.status+1&&(d.enqueue(o[g.row][g.column+1]),m.push(o[g.row][g.column+1]))}return p}}return null}Object.defineProperty(e,"__esModule",{value:!0}),e.Map=e.Tile=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getPathTo=o;var l=n(2),a=r(l),s=n(1),c=r(s),h=e.Tile=function(){function t(e,n,r,o,u,l){i(this,t),this.row=e,this.column=n,this.x=r,this.y=o,this.width=u,this.height=l,Math.random()<.25?this.blocked=!0:this.blocked=!1}return u(t,[{key:"toggleBlock",value:function(){this.blocked=!this.blocked}}]),t}();e.Map=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;i(this,t),this.tilesWidthCount=Math.floor(e/r),this.tilesHeightCount=Math.floor(n/u),this.cellWidth=r,this.cellHeight=u;for(var l=10;l-- >0;){this.tiles=[];for(var a=0;a<this.tilesHeightCount;a++)for(var s=0;s<this.tilesWidthCount;s++)this.tiles.push(new h(a,s,s*r,a*u,r,u));if(null!=o(this,0,0,this.tilesHeightCount-1,this.tilesWidthCount-1))break}}return u(t,[{key:"getTileCoordinates",value:function(t,e){var n=Math.floor(e/this.cellHeight),r=Math.floor(t/this.cellWidth);return{row:n,column:r}}},{key:"getTileFromCoordinates",value:function(t,e){return this.tiles.find(function(n){return n.row==t&&n.column==e})}},{key:"handleClick",value:function(t){var e=t.x,n=t.y,r=this.getTileCoordinates(e,n),i=r.row,o=r.column,u=this.getTileFromCoordinates(i,o);void 0!==u&&u.toggleBlock()}},{key:"getTotalWidth",value:function(){return this.tilesWidthCount*this.cellWidth}},{key:"getTotalHeight",value:function(){return this.tilesHeightCount*this.cellHeight}},{key:"getTiles",value:function(){return this.tiles}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t),this.v=[]}return i(t,[{key:"enqueue",value:function(t){this.v.push(t)}},{key:"dequeue",value:function(){if(this.v.length>0)return this.v.shift(1);throw new Error("Empty queue.")}},{key:"size",value:function(){return this.v.length}},{key:"empty",value:function(){return 0==this.size()}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t),this.v=[]}return i(t,[{key:"push",value:function(t){this.v.push(t)}},{key:"pop",value:function(){if(this.v.length>0)return this.v.pop();throw new Error("Empty stack.")}},{key:"peek",value:function(){if(this.v.length>0)return this.v[this.v.length-1];throw new Error("Empty stack.")}},{key:"size",value:function(){return this.v.length}},{key:"empty",value:function(){return 0==this.size()}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function i(t){var e=document.getElementById(t);if(null!=e){var n=e.parentElement;n.removeChild(e)}}function o(t,e){var n=24;i("main-canvas");var o=new a.Map(t-64,e-64,n,n),l=document.body,s=document.createElement("canvas");l.appendChild(s),s.id="main-canvas",s.title="Clique para liberar ou obstruir parte do caminho.",s.width=o.getTotalWidth(),s.height=o.getTotalHeight(),s.addEventListener("click",function(t){var e=r(s,t);o.handleClick(e),u(c,o)});var c=s.getContext("2d");u(c,o)}function u(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=e.getTiles()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value;t.save(),s.blocked?t.fillStyle="#000":t.fillStyle="#fff",t.fillRect(s.x,s.y,s.width,s.height),t.strokeRect(s.x,s.y,s.width,s.height),t.restore()}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}var c=(0,a.getPathTo)(e,0,0,e.tilesHeightCount-1,e.tilesWidthCount-1);c&&l(t,c)}function l(t,e){var n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value;t.save(),t.fillStyle="#c00",t.fillRect(l.x,l.y,l.width,l.height),t.strokeRect(l.x,l.y,l.width,l.height),t.restore()}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}}var a=n(0);window.addEventListener("load",function(){o(window.innerWidth,window.innerHeight)}),window.addEventListener("resize",function(){o(window.innerWidth,window.innerHeight)})}]);