!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n,r,o){var i=[],u=!0,l=!1,s=void 0;try{for(var h,f=t.getTiles()[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var v=h.value;i[v.row]=i[v.row]||[],i[v.row].push({row:v.row,column:v.column,status:v.blocked,originalTile:v})}}catch(t){l=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw s}}if(i[e]&&i[e][n]&&i[e][n].status===!1){var d=new c.default;d.enqueue(i[e][n]),i[e][n].status=-1;for(var w=!1;!d.empty();){var y=d.dequeue();if(y.row==r&&y.column==o){w=!0;break}y.row>0&&0==i[y.row-1][y.column].status&&(i[y.row-1][y.column].status=y.status-1,d.enqueue(i[y.row-1][y.column])),y.row<t.tilesHeightCount-1&&0==i[y.row+1][y.column].status&&(i[y.row+1][y.column].status=y.status-1,d.enqueue(i[y.row+1][y.column])),y.column>0&&0==i[y.row][y.column-1].status&&(i[y.row][y.column-1].status=y.status-1,d.enqueue(i[y.row][y.column-1])),y.column<t.tilesWidthCount-1&&0==i[y.row][y.column+1].status&&(i[y.row][y.column+1].status=y.status-1,d.enqueue(i[y.row][y.column+1]))}if(w===!0){var m=new a.default,p=new a.default;for(m.push(i[r][o]),p.push(i[r][o]);!m.empty();){var g=m.pop();p.push(g.originalTile),g.row>0&&i[g.row-1][g.column].status==g.status+1?m.push(i[g.row-1][g.column]):g.row<t.tilesHeightCount-1&&i[g.row+1][g.column].status==g.status+1?m.push(i[g.row+1][g.column]):g.column>0&&i[g.row][g.column-1].status==g.status+1?m.push(i[g.row][g.column-1]):g.column<t.tilesWidthCount-1&&i[g.row][g.column+1].status==g.status+1&&(d.enqueue(i[g.row][g.column+1]),m.push(i[g.row][g.column+1]))}for(var k=[];!p.empty();)k.push(p.pop());return k}}return null}Object.defineProperty(e,"__esModule",{value:!0}),e.Map=e.Tile=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getPathTo=i;var l=n(2),a=r(l),s=n(1),c=r(s),h=e.Tile=function(){function t(e,n,r,i,u,l){o(this,t),this.row=e,this.column=n,this.x=r,this.y=i,this.width=u,this.height=l,Math.random()<.25?this.blocked=!0:this.blocked=!1}return u(t,[{key:"toggleBlock",value:function(){this.blocked=!this.blocked}}]),t}();e.Map=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;o(this,t),this.tilesWidthCount=Math.floor(e/r),this.tilesHeightCount=Math.floor(n/u),this.cellWidth=r,this.cellHeight=u;for(var l=10;l-- >0;){this.tiles=[];for(var a=0;a<this.tilesHeightCount;a++)for(var s=0;s<this.tilesWidthCount;s++)this.tiles.push(new h(a,s,s*r,a*u,r,u));if(null!=i(this,0,0,this.tilesHeightCount-1,this.tilesWidthCount-1))break}}return u(t,[{key:"getTileCoordinates",value:function(t,e){var n=Math.floor(e/this.cellHeight),r=Math.floor(t/this.cellWidth);return{row:n,column:r}}},{key:"getTileFromCoordinates",value:function(t,e){return this.tiles.find(function(n){return n.row==t&&n.column==e})}},{key:"handleClick",value:function(t){var e=t.x,n=t.y,r=this.getTileCoordinates(e,n),o=r.row,i=r.column,u=this.getTileFromCoordinates(o,i);void 0!==u&&u.toggleBlock()}},{key:"getTotalWidth",value:function(){return this.tilesWidthCount*this.cellWidth}},{key:"getTotalHeight",value:function(){return this.tilesHeightCount*this.cellHeight}},{key:"getTiles",value:function(){return this.tiles}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){r(this,t),this.v=[]}return o(t,[{key:"enqueue",value:function(t){this.v.push(t)}},{key:"dequeue",value:function(){if(this.v.length>0)return this.v.shift(1);throw new Error("Empty queue.")}},{key:"size",value:function(){return this.v.length}},{key:"empty",value:function(){return 0==this.size()}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){r(this,t),this.v=[]}return o(t,[{key:"push",value:function(t){this.v.push(t)}},{key:"pop",value:function(){if(this.v.length>0)return this.v.pop();throw new Error("Empty stack.")}},{key:"peek",value:function(){if(this.v.length>0)return this.v[this.v.length-1];throw new Error("Empty stack.")}},{key:"size",value:function(){return this.v.length}},{key:"empty",value:function(){return 0==this.size()}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function o(t){var e=document.getElementById(t);if(null!=e){var n=e.parentElement;n.removeChild(e)}}function i(t,e){var n=24;o("main-canvas");var i=new a.Map(t-64,e-64,n,n),l=document.body,s=document.createElement("canvas");l.appendChild(s),s.id="main-canvas",s.title="Clique para liberar ou obstruir parte do caminho.",s.width=i.getTotalWidth(),s.height=i.getTotalHeight(),s.addEventListener("click",function(t){var e=r(s,t);i.handleClick(e),u(c,i)});var c=s.getContext("2d");u(c,i)}function u(t,e){var n=!0,r=!1,o=void 0;try{for(var i,u=e.getTiles()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;t.save(),s.blocked?t.fillStyle="#000":t.fillStyle="#fff",t.fillRect(s.x,s.y,s.width,s.height),t.strokeRect(s.x,s.y,s.width,s.height),t.restore()}}catch(t){r=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}var c=(0,a.getPathTo)(e,0,0,e.tilesHeightCount-1,e.tilesWidthCount-1);c&&l(t,c)}function l(t,e){s.forEach(function(t){return clearTimeout(t)}),s=[];var n=5,r=0,o=!0,i=!1,u=void 0;try{for(var l,a=function(){var e=l.value,o=setTimeout(function(){t.save(),t.fillStyle="#c00",t.strokeStyle="#000",t.fillRect(e.x,e.y,e.width,e.height),t.strokeRect(e.x,e.y,e.width,e.height),t.restore()},r);s.push(o),r+=n},c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)a()}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}}var a=n(0);window.addEventListener("load",function(){i(window.innerWidth,window.innerHeight)}),window.addEventListener("resize",function(){i(window.innerWidth,window.innerHeight)});var s=[]}]);